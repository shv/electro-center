{% extends parent_template|default:"mainframe/base.html" %}

{% block header %}
{{ node.name }}
{% endblock header %}


{% block content %}
    <div class="row">
    
    {% for lamp_ in node.lamp_set.all %}
        <div class="col-lg-4" id="lamp-{{ lamp_.id }}">
            <div class="panel {% if lamp_.on == None %}panel-danger{% elif lamp_.on %}panel-primary{% else %}panel-default{% endif %}">
                <div class="panel-heading">
                    {{ lamp_.name }}
                </div>
                <div class="panel-body">
                    <p style="text-align: center">
                        <input type="checkbox" data-toggle="toggle" data-url-on="{% url 'switch' lamp_.id 'on' %}" data-url-off="{% url 'switch' lamp_.id 'off' %}" data-on="Enabled" data-off="Disabled" class="" style="display: none"{% if lamp_.on %} checked{% endif %}>
                    </p>
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:3 %}
            </div>
            <div class="row">
        {% endif %}

    
    {% endfor %}
    </div>
    <div class="row">
    {% for sensor_ in node.sensor_set.all %}
        <div class="col-lg-4" id="sensor-{{ sensor_.id }}">
            <div class="panel panel-info">
                <div class="panel-heading">
                    {{ sensor_.name }}
                </div>
                <div class="panel-body">
                    <p style="text-align: center">
                        {{ sensor_.name }}: {{ sensor_.value }}
                    </p>
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:3 %}
            </div>
            <div class="row">
        {% endif %}

    
    {% endfor %}
    </div>
    <hr>
    <div class="row">
        Послений ответ был: {{ node.last_answer_time }}
    </div>
    <hr>
{% endblock content %}
